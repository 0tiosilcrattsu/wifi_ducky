<!Doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="style.css">
		<script src="functions.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=0.8">
	</head>
	<body>
		<div id="content">
			<h1>Scripts</h1>
			<table id="scriptlist">
				
			</table>
			<a class="button" href="upload.html">upload new script</a>
		</div>
		<script>
			var res;
			var table = document.getElementById("scriptlist");
			
			function loadlist(){
				getResponse("list.json",function(responseText){
					res = JSON.parse(responseText);
					var tableHTML = "";
					for(var i=0;i<res.list.length;i++){
						tableHTML += "<tr>";
						tableHTML += "<td><a href='view?n="+res.list[i].n+"'>"+res.list[i].n+"</a></td>";
						tableHTML += "<td>"+res.list[i].s+"</td>";
						tableHTML += "<td><button class='warnBtn'>delete</button></td>";
						tableHTML += "<td><button class='selectBtn'>run</button></td>";
						tableHTML += "</tr>";
					}
					table.innerHTML = tableHTML;
				});
			}
			
			loadlist();
		</script>
	</body>
</html>